{{ define "main" }}

<!-- Header -->
<section>
  <div class="uk-container uk-margin-large-bottom uk-margin-medium-top">
    <h1 class="uk-text-center uk-heading-medium">{{.Title}}</h1>
    <p class="uk-text-center uk-text-lead">{{.Params.description}}</p>
    <p class="uk-text-center">Published on {{ .PublishDate.Format "Jan 02, 2006" }}</p>

    <!-- Points and Solves -->
    <div class="uk-flex uk-flex-center uk-margin-bottom">
      <div class="uk-margin-right">
        <strong>Points:</strong> {{ .Params.points }}
      </div>
      <div>
        <strong>Solves:</strong> {{ .Params.solves }}
      </div>
    </div>

    <!-- Challenge Files -->
    <div class="files-container">
      <ul class="files-grid">
        {{ $files := readDir (printf "/static%s" .Path) }}
        {{ range $files }}
        {{ $fileType := partial "file-type.html" .Name }}
        <li class="file-item">
          <div class="file-wrapper">
            <div class="file-icon" data-type="{{ $fileType.type }}">
              {{ partial "file-icon.html" $fileType }}
            </div>
            <div class="file-info">
              <div class="file-name">{{ .Name }}</div>
              <div class="file-type">{{ $fileType.label }}</div>
            </div>
            <div class="file-actions">
              <a href="{{ .Name }}" class="file-action" target="_blank" aria-label="View file">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                  <circle cx="12" cy="12" r="3"></circle>
                </svg>
              </a>
              <a href="{{ .Name }}" class="file-action" download aria-label="Download file">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                  <polyline points="7 10 12 15 17 10"></polyline>
                  <line x1="12" y1="15" x2="12" y2="3"></line>
                </svg>
              </a>
            </div>
          </div>
        </li>
        {{ end }}
      </ul>
    </div>

    <!-- Divider -->
    <hr class="uk-divider-icon">

    <!-- Writeup Content -->
    <div class="content">
      {{ .Content }}
    </div>
  </div>
</section>

{{ end }}
